name: 'Download Build Cache'
description: 'Downloads the previously stored turborepo cache'
author: 'AlCalzone'
inputs:
  cacheDir:
    description: 'The parent directory of where the turbo-cache folder is located'
    required: true

runs:
  using: "composite"
  steps:
    - name: Download turbo cache artifact
      uses: actions/download-artifact@v3
      env:
      with:
        name: turbo-cache
        path: ${{ inputs.cacheDir }}/turbo-cache.tgz

    - name: Extract turbo cache
      shell: bash
      run: |
        cd "${{ inputs.cacheDir }}"
        tar -xvzf turbo-cache.tgz && rm turbo-cache.tgz
